<!--
  ~  Copyright (c) 2018 Ford Motor Company
  ~  All rights reserved.
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<div class="login-container">

  <div #dialog class="dialog" (click)="dialog.hidden = true">
    <div class="heading">We will be migrating soon!</div>
    <div class="sub-heading"></div>

    <div class="content">
      On <b>May 2nd</b> RetroQuest will be shutting down in order to migrate PCF spaces.
      We will be resuming operation on May 3rd but it may go until <b>May 5th</b>.

      <br>
      <br>
      This is an open source application and doesn't any official team work on it and so developers need
      to do the migration in their downtime.

      <br>
      <br>
      Please bear with us and going forward use
      <a href="https://retroquest.ford.com/"><b>retroquest.ford.com</b></a> this will make
      future migrations easier. This vanity url will become active once the migration has finished.
    </div>

    <rq-button type="primary" text="dismiss"></rq-button>
  </div>

  <re-captcha
    #captchaRef="reCaptcha"
    size="invisible"
    siteKey="6LeZOmMUAAAAAOq4uXmluNuIio7XGx7U-ncmOzGT"
    (resolved)="$event && login($event)"
  ></re-captcha>

  <div id="app-content">
    <div class="logo-container">
      <img src="/assets/RetroQuest.png" title="RetroQuest Logo" id="logo"/>
    </div>
    <div class="rq-team-controls">
      <form id="loginForm" class="rq-form">
        <div class="rq-form-header">
          <div class="header-text">Sign into your board!</div>
          <a id="createBoard" routerLink="/create">Donâ€™t have a board?</a>
        </div>

        <form class="rq-form-body" (keydown.enter)="requestCaptchaStateAndLogIn()">
          <div class="rq-input-group">
            <label for="teamNameInput">Board name</label>
            <input
              id="teamNameInput"
              class="rq-input"
              name="teamName"
              [(ngModel)]="teamName"
              rqFocusOnLoad
            />
          </div>
          <div class="rq-input-group">
            <label for="teamPasswordInput">Password</label>
            <input id="teamPasswordInput"
                   class="rq-input"
                   name="password"
                   type="password"
                   [(ngModel)]="password"/>
          </div>
          <span id="errorMessage" class="rq-error-message">{{errorMessage}}</span>

          <rq-button
            id="signInButton"
            class="rq-button"
            (click)="requestCaptchaStateAndLogIn()"
            type="primary"
            text="Sign In"
          >
          </rq-button>

          <div class="recaptcha-message">This site is protected by reCAPTCHA and the Google
            <a href="https://policies.google.com/privacy">Privacy Policy</a> and
            <a href="https://policies.google.com/terms">Terms of Service</a> apply.
          </div>

        </form>
      </form>
    </div>

    <rq-brand-footer></rq-brand-footer>

  </div>
</div>
